# ChordWiki コード譜編集 ChromeExtesion

[ChordWiki](https://ja.chordwiki.org/) のコード譜を直接編集、保存する ChromeExtension です。

ChordWiki 上のコード譜にアレンジを加えて、いつでも見返せるようにすることを使用目的としています。

Chrome WebStore への公開はしていません。

## 拡張機能の適用方法

1. このプロジェクト一式をローカルにダウンロードまたは clone します。
1. Google Chrome で chrome://extensions を開きます。
1. デベロッパーモードを ON にします。
1. 「パッケージ化されていない拡張機能を読み込む」を選択して、`dist` ディレクトリを選択します。

## コード譜編集機能

ChordWiki のコード譜ページで、以下の操作ができるようになります。

### コードを変更する

すでにあるコードを選択すると編集できます。

### コードを追加する

任意の歌詞の部分を選択すると新しくコードを追加できます。

### コードを削除する

コードにカーソルを合わせたときに表示される❌を押すと、コードが削除されます。

## コード譜保存機能

ChordWiki のコード譜ページで右クリックすると以下のメニューが使用できます。

### コード譜を保存する

曲単位に編集したコード譜をブラウザに保存します。ブラウザを閉じても保存状態は継続します。

### 保存したコード譜を読み込む

上記の機能で保存したコード譜を読み込みます。キーを移調した状態のページでも移調に合わせて読み込みができます。

ただし、読み込み後にサイト自体の移調機能を使用するとページリロードして読み込み状態が消えるため、その場合はもう一度読み込みが必要です。

## For Developers

Typescript で作成しているため、修正した際はビルドが必要です。

```bash
yarn run build
```

dist ディレクトリのファイル群が更新されていることを確認し、chrome://extensions のリロードアイコンをクリックします。

## その他

- ChordWiki の実装に依存しているので、サイト側 HTML の DOM や class 指定が変わると動作しなくなります。
